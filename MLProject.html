<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Practical Machine Learning - Project</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h1>Practical Machine Learning - Project</h1>

<p>Author: Jim Thompson</p>

<h2>Summary</h2>

<p>This project develops a predictive model for assessing a participant&#39;s ability to 
correctly perform the Unilateral Dumbbell Biceps Curl<sup>1.</sup>  Participant&#39;s performance
is assessed into one of five classes.  One class represents performing the exercise
correctly, the remaining four classes represent common mistakes.  Data used for prediction are motion data captured by sensors attached to various parts of the participant&#39;s body and dumbbell.  </p>

<p>The predictive model developed in this work is based on a boosted tree machine 
learning algorithm.  The specific implementation used is the <strong>gbm</strong> package from R.
The model is able to correctly predict 93.8% of the out-of-sample test cases.</p>

<p>The remainder of this paper describes data preparation for modeling, model training and
assessing the model&#39;s performance.</p>

<h2>Data Preparation</h2>

<p>Specify required R packages.</p>

<pre><code class="r">library(caret)
library(plyr)
</code></pre>

<p>Data for model <a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv">training</a> and <a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv">test submission</a> were obtained through Coursera.</p>

<p>After downloading the data, we begin by reading the training data.</p>

<pre><code class="r">raw.data &lt;- read.csv(&quot;./data/pml-training.csv&quot;,
                     stringsAsFactors=FALSE)


## save names of attributes
raw.names &lt;- names(raw.data)
raw.rows &lt;- nrow(raw.data)
</code></pre>

<p>The data contains 19,622 observations each with 160 attributes.
Exercise performance is categorized into one of 5 classes, caputured in the attribute &ldquo;classe&rdquo;.  Here is the percent distribution values in the classe attribute:</p>

<pre><code class="r">dist.raw &lt;- round(100*table(raw.data$classe)/raw.rows,2)
names(dist.raw) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;)

## Percent distribution of performance classes
dist.raw
</code></pre>

<pre><code>##     A     B     C     D     E 
## 28.44 19.35 17.44 16.39 18.38
</code></pre>

<p>Class &ldquo;A&rdquo; represents performing the exercise correctly.  The other classes indicate
various types of mistakes.</p>

<p>After a brief review of the training and test data for submission, the following 
steps were taken to prepare data for model building and performance assessment.</p>

<ul>
<li>Keep only observations that are generated during movement.  This makes the training
data similar to the data used for submission.</li>
<li>Eliminate attributes that are near or at zero variance.  Low or no variance attributes
do not provide any value in the modeling processing.</li>
<li>Eliminate attributes that are not generalizable, such as time stamps and user
identifiers.  These attributes are unique to the training data and can lead data leakage, where the
model will overfit the training data and not predict well on other data sets.</li>
</ul>

<pre><code class="r">## keep only raw motion data
raw.data &lt;- subset(raw.data,new_window == &quot;no&quot;)

## eliminate columns that are constant or near zero variance
nz.idx &lt;- nearZeroVar(raw.data)
raw.data &lt;- raw.data[,-nz.idx]

## eliminate identifier attributes that are not generalizable
raw.data &lt;- subset(raw.data,select=-c(X,user_name,cvtd_timestamp,
                                num_window,
                                raw_timestamp_part_1,
                                raw_timestamp_part_2))

## convert classe into factor variable for training and prediciton
raw.data &lt;- mutate(raw.data,
                   classe=factor(classe))

## extract subset of the training data for model building and validation
set.seed(123)
raw.idx &lt;- createDataPartition(raw.data$classe,p=0.25,list=FALSE)
raw.data &lt;- raw.data[raw.idx,]


## split model building subset into training and test sets
set.seed(456)
train.idx &lt;- createDataPartition(raw.data$classe,p=0.6,list=FALSE)

train &lt;- raw.data[train.idx,]
test &lt;- raw.data[-train.idx,]
</code></pre>

<p>From the original 19,622 observations, we extract a 25% 
(4,805) random sample 
for model building.  The reason for selecting this subset is to speed up training and
validation work.  This extract is then split into a 60% (2,885) for training 
and 40% (1,920) for assessing model performance.
Out of the original 160 attributes, we end up using 53 
for training and validation.  See Appdendix for details on attributes used or eliminated.</p>

<p>Here is the percent distribution of the classes in the training and test data</p>

<pre><code class="r">dist.train &lt;- round(100*table(train$classe)/nrow(train),2)
names(dist.train) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;)

dist.test &lt;- round(100*table(test$classe)/nrow(test),2)
names(dist.test) &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;)

## combine the distribution of classe values for the original, training and test data sets
df &lt;- data.frame(classe=LETTERS[1:5],Original=as.vector(dist.raw),
           Training=as.vector(dist.train),
            Testing=as.vector(dist.test),
            stringsAsFactors=FALSE)
</code></pre>

<pre><code>## Percent Distrbutions of classe values
## Original/Training/Test Data Sets
</code></pre>

<pre><code>##   classe Original Training Testing
## 1      A    28.44    28.46   28.49
## 2      B    19.35    19.34   19.38
## 3      C    17.44    17.44   17.45
## 4      D    16.39    16.40   16.35
## 5      E    18.38    18.37   18.33
</code></pre>

<p>From this we see the training and testing data have same distribution of classe values as the original
raw data.</p>

<h2>Model Training</h2>

<p>Gradient Boosting algorithm (<strong>gbm</strong> R package) is used for the machine learning algorithm. 
Repeated cross-validation is used to determine values for the algorithm&#39;s 
hyper-parameters.  For purposes of assessing model performance, we use the accuracy, i.e.,
the percent of test case that are assigned to the correct classe value.</p>

<pre><code class="r"># library(e1071)
## set up for parallel processing
library(doSNOW)
hosts &lt;- c(rep(&quot;localhost&quot;,2))
cl &lt;- makeSOCKcluster(hosts)
registerDoSNOW(cl)

trCtrl &lt;- trainControl(method=&quot;repeatedcv&quot;, number=10, repeats=5)

set.seed(789)
system.time(gbm.mdl1 &lt;- train(classe~.,train,method=&quot;gbm&quot;,verbose=FALSE,
                  metric=&quot;Accuracy&quot;,
                  trControl=trCtrl))
</code></pre>

<pre><code>##    user  system elapsed 
##    6.84    0.08  366.44
</code></pre>

<pre><code class="r">## stop cluster
stopCluster(cl)

print(gbm.mdl1)
</code></pre>

<pre><code>## Stochastic Gradient Boosting 
## 
## 2885 samples
##   52 predictors
##    5 classes: &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (10 fold, repeated 5 times) 
## 
## Summary of sample sizes: 2597, 2596, 2597, 2598, 2596, 2597, ... 
## 
## Resampling results across tuning parameters:
## 
##   interaction.depth  n.trees  Accuracy  Kappa  Accuracy SD  Kappa SD
##   1                  50       0.7       0.7    0.02         0.03    
##   1                  100      0.8       0.8    0.02         0.03    
##   1                  200      0.8       0.8    0.02         0.03    
##   2                  50       0.8       0.8    0.02         0.02    
##   2                  100      0.9       0.9    0.02         0.02    
##   2                  200      0.9       0.9    0.02         0.02    
##   3                  50       0.9       0.8    0.02         0.02    
##   3                  100      0.9       0.9    0.02         0.02    
##   3                  200      0.9       0.9    0.01         0.02    
## 
## Tuning parameter &#39;shrinkage&#39; was held constant at a value of 0.1
## Accuracy was used to select the optimal model using  the largest value.
## The final values used for the model were n.trees = 150,
##  interaction.depth = 3 and shrinkage = 0.1.
</code></pre>

<h2>Model Performance</h2>

<p>Using the <strong>gbm</strong> model with the optimal hyper-parameters, determined above, we assess
model performance.  First we present the confusion matrix.  Next we see that the
model is 93.8% accurate on the test data.  The 95% confidence interval for accuracy
is from 92.6% to 94.8%.</p>

<pre><code class="r">pred.classe &lt;- predict(gbm.mdl1,test)


confusionMatrix(pred.classe,test$classe)
</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction   A   B   C   D   E
##          A 537  14   1   1   4
##          B   4 346  19   2  11
##          C   3   9 313  20  11
##          D   1   1   2 286   7
##          E   2   2   0   5 319
## 
## Overall Statistics
##                                         
##                Accuracy : 0.938         
##                  95% CI : (0.926, 0.948)
##     No Information Rate : 0.285         
##     P-Value [Acc &gt; NIR] : &lt; 2e-16       
##                                         
##                   Kappa : 0.922         
##  Mcnemar&#39;s Test P-Value : 4.19e-06      
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity             0.982    0.930    0.934    0.911    0.906
## Specificity             0.985    0.977    0.973    0.993    0.994
## Pos Pred Value          0.964    0.906    0.879    0.963    0.973
## Neg Pred Value          0.993    0.983    0.986    0.983    0.979
## Prevalence              0.285    0.194    0.174    0.164    0.183
## Detection Rate          0.280    0.180    0.163    0.149    0.166
## Detection Prevalence    0.290    0.199    0.185    0.155    0.171
## Balanced Accuracy       0.984    0.953    0.954    0.952    0.950
</code></pre>

<p>One feature of R&#39;s <strong>gbm</strong> package is the ability to identify attributes that are 
important in predicting the classe attribute.  Below shows the top 20 explanatory
variables in descending order.</p>

<pre><code class="r">vi &lt;- data.frame(varImp(gbm.mdl1)[1])
sorted.vi.idx &lt;- rev(order(vi))
sorted.vi.idx &lt;- sorted.vi.idx[1:20]


par(mar=c(5,12,4,2)) # increase y-axis margin.

barplot(vi[rev(sorted.vi.idx),1],
        names.arg=rownames(vi)[rev(sorted.vi.idx)],
        horiz=TRUE,
        las=2,
        xlab=&quot;Importance&quot;,
        main=&quot;Top 20 Important Attributes&quot;
        )
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAApVBMVEX9/v0AAAAAADkAAGUAOTkAOWUAOY8AZo8AZrU5AAA5ADk5AGU5OWU5OY85ZrU5j485j9plAABlADllAGVlOQBlOTllOY9lZgBlZjllZmVlj49ltbVltf2POQCPOTmPOWWPZgCPjzmPj2WP27WP2/21ZgC1Zjm1tWW124+1/rW1/tq1/v2+vr7ajzna24/a/rXa/tra/v39tWX924/9/rX9/tr9/v1XJ6JyAAAAN3RSTlP///////////////////////////////////////////////////////////////////////8AEFmdiwAAAAlwSFlzAAALEgAACxIB0t1+/AAAFZhJREFUeJztnYt62zYSRit748hNndpVmiZd2mlTKRvHy2ys2/s/2hIXkuBFFC4DkvD850tshyRoRUcAIXA089MRsOSnqR8AmAaIZwrEMwXimQLxTIF4pkA8UyCeKRDPFIhnCsQzBeKZAvFMgXimQDxTIJ4pEM8UiGcKxDMF4pkC8UyBeKZAPFMgniksxB/uF5Llif2bxeLySR2mD9nfiQ02bLLBrcU5l/WWarM4/+G++zv6zxYDiJfepflNfYy1+M2iT1W9dXctX1NqS/PgHvH9Z4sCC/FHIeDqufiWF2pv5XP+H9XLj0Lyxbp4aWS768unUrj4vl28vi+OKZpkZoPqFBcfypfTtvh6sa4Okq8z/SLLFx9l82LLa7lZtrv4R/X44vDiYclXwP7u6oduJ35DJh9z9Rjp4SV+o03pIUC+FtSuzcV6K5704rvYpsSXaJeyQeMUr96Jn/d3ap8+aGmIL5x+vV42xYtj/3dnnLMlXv2G22N52jhPCCvxu+tCq+7g8omtBtZt8QRvRUfWg60Sf/lUdLqs0cA8hXBbDs7qol0ctFWvjqz8tUs1oldDvWpXHa5OpcSrdvKRik16kIoEK/GyTxcjaaZk5MK0ZCtG6q74pRak3YgGxink2KCOF51THVgLlBQHyr+meNGuntxt9KOp2umB5mItezyG+kAGxefC+7E71C+ljrPixbVYiTcFCsrB30u8Oq96PPSwEn9iqM9Vv+pO7kzx3aG+Ei9eQKJxV7x6Sah3DD3iq6FensQc6iuizfNZie+f3KlJVPEEt97OtcR3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" alt="plot of chunk ModelAnalysis"/> </p>

<h2>Submission</h2>

<p>The following code generates submission files for the project.</p>

<pre><code class="r">##
# Instructor provided function to generate submission data for grading
##
pml_write_files = function(x){
  n = length(x)
  for(i in 1:n){
    filename = paste0(&quot;problem_id_&quot;,i,&quot;.txt&quot;)
    write.table(x[i],file=filename,quote=FALSE,row.names=FALSE,col.names=FALSE)
  }
}

##
# read in test set for submission
##
sub.data &lt;- read.csv(&quot;./data/pml-testing.csv&quot;,
                     stringsAsFactors=FALSE)

## predict classe for the submission test set
sub.classe &lt;- predict(gbm.mdl1,sub.data)

## create the submission files
pml_write_files(sub.classe)
</code></pre>

<p>Following are the predicted classe value for the test cases.</p>

<pre><code class="r">df &lt;- data.frame(Test.Case=1:length(sub.classe),Predicted.classe=sub.classe,
           row.names=NULL,stringsAsFactors=FALSE)
</code></pre>

<pre><code>## Predicted &#39;classe&#39; Values for Project Submission
</code></pre>

<pre><code>##    Test.Case Predicted.classe
## 1          1                B
## 2          2                A
## 3          3                B
## 4          4                A
## 5          5                A
## 6          6                E
## 7          7                D
## 8          8                B
## 9          9                A
## 10        10                A
## 11        11                B
## 12        12                C
## 13        13                B
## 14        14                A
## 15        15                E
## 16        16                E
## 17        17                A
## 18        18                B
## 19        19                B
## 20        20                B
</code></pre>

<h2>Reference</h2>

<ol>
<li>Velloso, E.; Bulling, A.; Gellersen, H.; Ugulino, W.; Fuks, H. <strong>Qualitative Activity Recognition of Weight Lifting Exercises</strong>. Proceedings of 4th International Conference in Cooperation with SIGCHI (Augmented Human &#39;13) . Stuttgart, Germany: ACM SIGCHI, 2013.  <a href="http://groupware.les.inf.puc-rio.br/har">See Documentation</a></li>
</ol>

<h2>Appendix</h2>

<p>These are the attributes selected for building the <strong>gbm</strong> model.</p>

<pre><code class="r">names(train)
</code></pre>

<pre><code>##  [1] &quot;roll_belt&quot;            &quot;pitch_belt&quot;           &quot;yaw_belt&quot;            
##  [4] &quot;total_accel_belt&quot;     &quot;gyros_belt_x&quot;         &quot;gyros_belt_y&quot;        
##  [7] &quot;gyros_belt_z&quot;         &quot;accel_belt_x&quot;         &quot;accel_belt_y&quot;        
## [10] &quot;accel_belt_z&quot;         &quot;magnet_belt_x&quot;        &quot;magnet_belt_y&quot;       
## [13] &quot;magnet_belt_z&quot;        &quot;roll_arm&quot;             &quot;pitch_arm&quot;           
## [16] &quot;yaw_arm&quot;              &quot;total_accel_arm&quot;      &quot;gyros_arm_x&quot;         
## [19] &quot;gyros_arm_y&quot;          &quot;gyros_arm_z&quot;          &quot;accel_arm_x&quot;         
## [22] &quot;accel_arm_y&quot;          &quot;accel_arm_z&quot;          &quot;magnet_arm_x&quot;        
## [25] &quot;magnet_arm_y&quot;         &quot;magnet_arm_z&quot;         &quot;roll_dumbbell&quot;       
## [28] &quot;pitch_dumbbell&quot;       &quot;yaw_dumbbell&quot;         &quot;total_accel_dumbbell&quot;
## [31] &quot;gyros_dumbbell_x&quot;     &quot;gyros_dumbbell_y&quot;     &quot;gyros_dumbbell_z&quot;    
## [34] &quot;accel_dumbbell_x&quot;     &quot;accel_dumbbell_y&quot;     &quot;accel_dumbbell_z&quot;    
## [37] &quot;magnet_dumbbell_x&quot;    &quot;magnet_dumbbell_y&quot;    &quot;magnet_dumbbell_z&quot;   
## [40] &quot;roll_forearm&quot;         &quot;pitch_forearm&quot;        &quot;yaw_forearm&quot;         
## [43] &quot;total_accel_forearm&quot;  &quot;gyros_forearm_x&quot;      &quot;gyros_forearm_y&quot;     
## [46] &quot;gyros_forearm_z&quot;      &quot;accel_forearm_x&quot;      &quot;accel_forearm_y&quot;     
## [49] &quot;accel_forearm_z&quot;      &quot;magnet_forearm_x&quot;     &quot;magnet_forearm_y&quot;    
## [52] &quot;magnet_forearm_z&quot;     &quot;classe&quot;
</code></pre>

<p>Following is the list of attributes removed from analysis because of near zero
variance or attributes, such as time stamps or identifiers, that will not
generalize.</p>

<pre><code class="r">setdiff(raw.names,names(train))
</code></pre>

<pre><code>##   [1] &quot;X&quot;                        &quot;user_name&quot;               
##   [3] &quot;raw_timestamp_part_1&quot;     &quot;raw_timestamp_part_2&quot;    
##   [5] &quot;cvtd_timestamp&quot;           &quot;new_window&quot;              
##   [7] &quot;num_window&quot;               &quot;kurtosis_roll_belt&quot;      
##   [9] &quot;kurtosis_picth_belt&quot;      &quot;kurtosis_yaw_belt&quot;       
##  [11] &quot;skewness_roll_belt&quot;       &quot;skewness_roll_belt.1&quot;    
##  [13] &quot;skewness_yaw_belt&quot;        &quot;max_roll_belt&quot;           
##  [15] &quot;max_picth_belt&quot;           &quot;max_yaw_belt&quot;            
##  [17] &quot;min_roll_belt&quot;            &quot;min_pitch_belt&quot;          
##  [19] &quot;min_yaw_belt&quot;             &quot;amplitude_roll_belt&quot;     
##  [21] &quot;amplitude_pitch_belt&quot;     &quot;amplitude_yaw_belt&quot;      
##  [23] &quot;var_total_accel_belt&quot;     &quot;avg_roll_belt&quot;           
##  [25] &quot;stddev_roll_belt&quot;         &quot;var_roll_belt&quot;           
##  [27] &quot;avg_pitch_belt&quot;           &quot;stddev_pitch_belt&quot;       
##  [29] &quot;var_pitch_belt&quot;           &quot;avg_yaw_belt&quot;            
##  [31] &quot;stddev_yaw_belt&quot;          &quot;var_yaw_belt&quot;            
##  [33] &quot;var_accel_arm&quot;            &quot;avg_roll_arm&quot;            
##  [35] &quot;stddev_roll_arm&quot;          &quot;var_roll_arm&quot;            
##  [37] &quot;avg_pitch_arm&quot;            &quot;stddev_pitch_arm&quot;        
##  [39] &quot;var_pitch_arm&quot;            &quot;avg_yaw_arm&quot;             
##  [41] &quot;stddev_yaw_arm&quot;           &quot;var_yaw_arm&quot;             
##  [43] &quot;kurtosis_roll_arm&quot;        &quot;kurtosis_picth_arm&quot;      
##  [45] &quot;kurtosis_yaw_arm&quot;         &quot;skewness_roll_arm&quot;       
##  [47] &quot;skewness_pitch_arm&quot;       &quot;skewness_yaw_arm&quot;        
##  [49] &quot;max_roll_arm&quot;             &quot;max_picth_arm&quot;           
##  [51] &quot;max_yaw_arm&quot;              &quot;min_roll_arm&quot;            
##  [53] &quot;min_pitch_arm&quot;            &quot;min_yaw_arm&quot;             
##  [55] &quot;amplitude_roll_arm&quot;       &quot;amplitude_pitch_arm&quot;     
##  [57] &quot;amplitude_yaw_arm&quot;        &quot;kurtosis_roll_dumbbell&quot;  
##  [59] &quot;kurtosis_picth_dumbbell&quot;  &quot;kurtosis_yaw_dumbbell&quot;   
##  [61] &quot;skewness_roll_dumbbell&quot;   &quot;skewness_pitch_dumbbell&quot; 
##  [63] &quot;skewness_yaw_dumbbell&quot;    &quot;max_roll_dumbbell&quot;       
##  [65] &quot;max_picth_dumbbell&quot;       &quot;max_yaw_dumbbell&quot;        
##  [67] &quot;min_roll_dumbbell&quot;        &quot;min_pitch_dumbbell&quot;      
##  [69] &quot;min_yaw_dumbbell&quot;         &quot;amplitude_roll_dumbbell&quot; 
##  [71] &quot;amplitude_pitch_dumbbell&quot; &quot;amplitude_yaw_dumbbell&quot;  
##  [73] &quot;var_accel_dumbbell&quot;       &quot;avg_roll_dumbbell&quot;       
##  [75] &quot;stddev_roll_dumbbell&quot;     &quot;var_roll_dumbbell&quot;       
##  [77] &quot;avg_pitch_dumbbell&quot;       &quot;stddev_pitch_dumbbell&quot;   
##  [79] &quot;var_pitch_dumbbell&quot;       &quot;avg_yaw_dumbbell&quot;        
##  [81] &quot;stddev_yaw_dumbbell&quot;      &quot;var_yaw_dumbbell&quot;        
##  [83] &quot;kurtosis_roll_forearm&quot;    &quot;kurtosis_picth_forearm&quot;  
##  [85] &quot;kurtosis_yaw_forearm&quot;     &quot;skewness_roll_forearm&quot;   
##  [87] &quot;skewness_pitch_forearm&quot;   &quot;skewness_yaw_forearm&quot;    
##  [89] &quot;max_roll_forearm&quot;         &quot;max_picth_forearm&quot;       
##  [91] &quot;max_yaw_forearm&quot;          &quot;min_roll_forearm&quot;        
##  [93] &quot;min_pitch_forearm&quot;        &quot;min_yaw_forearm&quot;         
##  [95] &quot;amplitude_roll_forearm&quot;   &quot;amplitude_pitch_forearm&quot; 
##  [97] &quot;amplitude_yaw_forearm&quot;    &quot;var_accel_forearm&quot;       
##  [99] &quot;avg_roll_forearm&quot;         &quot;stddev_roll_forearm&quot;     
## [101] &quot;var_roll_forearm&quot;         &quot;avg_pitch_forearm&quot;       
## [103] &quot;stddev_pitch_forearm&quot;     &quot;var_pitch_forearm&quot;       
## [105] &quot;avg_yaw_forearm&quot;          &quot;stddev_yaw_forearm&quot;      
## [107] &quot;var_yaw_forearm&quot;
</code></pre>

</body>

</html>

